{% extends "base.html" %}
{% load static %}

{% block content %}

<h2>スコア入力：</h2>

<div style="margin-bottom: 10px; font-size: 18px; line-height: 1.6;">
    {{ game.game_datetime|date:"Y-m-d H:i" }}〜
    <br><br>
    {{ game.first_batting.name }}
    <br>
    vs {{ game.second_batting.name }}
</div>

<hr>

<script id="lineup-data" type="application/json">
    {{ lineup_json|safe }}
</script>

<button id="add-row-btn"
        style="padding:8px 16px; margin-bottom:15px; background:#0a74da; color:white; border-radius:4px;">
    ＋ 行を追加
</button>

<table id="pitch-table" border="1" cellspacing="0" cellpadding="6">
    <thead>
        <tr>
            <th>打者</th>
            <th>投手</th>
            <th>打者結果</th>
            <th>走者動作</th>
            <th>投球</th>
            <th>-</th>
        </tr>
    </thead>
    <tbody id="pitch-body"></tbody>
</table>

<hr>

<h3>最新 10 件</h3>
<ul id="recent-list">
    {% for p in recent_pitches %}
        <li>
            {{ p.inning }}回（{{ p.top_bottom }}）
            打者：{{ p.batter.name }}
            投手：{{ p.pitcher.name }}
            → 結果：{{ p.batter_result }}
        </li>
    {% endfor %}
</ul>

<script id="row-template" type="text/template">
    {% include "games/score_input/row.html" %}
</script>

<script src="{% static 'games/score_input/score_input.js' %}"></script>
{% endblock %}
